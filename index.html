<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JHU-MNI-ss (Eve) template • EveTemplate</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="JHU-MNI-ss (Eve) template">
<meta property="og:description" content="JHU-MNI-ss (Eve) template and white matter parcellation
        map (WMPM).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">EveTemplate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Jfortin1/EveTemplate/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="evetemplate" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#evetemplate" class="anchor" aria-hidden="true"></a>EveTemplate</h1></div>
<div id="-jhu-mni-ss-eve-template" class="section level2">
<h2 class="hasAnchor">
<a href="#-jhu-mni-ss-eve-template" class="anchor" aria-hidden="true"></a>### JHU-MNI-ss (Eve) Template</h2>
<p><strong>Creator</strong>: Jean-Philippe Fortin, <a href="mailto:fortin946@gmail.com" class="email">fortin946@gmail.com</a></p>
<p><strong>Authors</strong>: Jean-Philippe Fortin, John Muschelli</p>
<div id="software-status" class="section level5">
<h5 class="hasAnchor">
<a href="#software-status" class="anchor" aria-hidden="true"></a>Software status</h5>
<table class="table">
<thead><tr class="header">
<th>Resource:</th>
<th>Travis CI</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Platform:</td>
<td>Linux</td>
</tr>
<tr class="even">
<td>R CMD check</td>
<td><a href="https://travis-ci.org/Jfortin1/EveTemplate" class="external-link"><img src="https://travis-ci.org/Jfortin1/EveTemplate.svg?branch=master" alt="Build status"></a></td>
</tr>
</tbody>
</table>
</div>
<div id="references" class="section level5">
<h5 class="hasAnchor">
<a href="#references" class="anchor" aria-hidden="true"></a>References</h5>
<p>If using the <code>EveTemplate</code> package, please cite the following:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>Description</th>
<th>Citation</th>
<th>Link</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>JHU-MNI-ss Atlas</td>
<td><code>RegLib_C26_MoriAtlas.zip</code></td>
<td>Kenichi Oishi, Andreia V Faria and Susumu Mori, <em>JHU-MNI-ss Atlas</em>, 2010, Johns Hopkins University School of Medicine, Department of Radiology, Center for Brain Imaging Science</td>
<td><a href="https://www.slicer.org/publications/item/view/1883" class="external-link">Link</a></td>
</tr>
<tr class="even">
<td>WMPM</td>
<td>White Matter Parcellation Map</td>
<td>Oishi et al., <em>Atlas-based whole brain white matter analysis using large deformation diffeomorphic metric mapping: Application to normal elderly and Alzheimer’s disease participants</em>, Neuroimage, 2009</td>
<td><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiOmpCg4bvNAhWBQj4KHfQFAP8QFggeMAA&amp;url=http%3A%2F%2Fwww.ncbi.nlm.nih.gov%2Fpubmed%2F19385016&amp;usg=AFQjCNHwuv1ECKcDOdCtInmlGi05ww4mIg&amp;sig2=hSaDBY4FN4IpdDsg2GL4Ag" class="external-link">Link</a></td>
</tr>
</tbody>
</table>
<p>Complete BibTeX citations can be found <a href="https://github.com/Jfortin1/EveTemplate/blob/master/CITATIONS.bib" class="external-link">here</a>.</p>
</div>
</div>
<div id="table-of-content" class="section level2">
<h2 class="hasAnchor">
<a href="#table-of-content" class="anchor" aria-hidden="true"></a>Table of content</h2>
<ul>
<li><a href="#id-section1">1. Introduction</a></li>
<li><a href="#id-section2">2. Reading the data into R</a></li>
<li><a href="#id-section3">3. Segmentation</a></li>
<li><a href="#id-section4">4. White Matter Parcellation Map</a></li>
<li><a href="#id-section5">5. Files</a></li>
<li><a href="#id-section6">6. Miscellaneous</a></li>
</ul>
<div id="id-section1"></div>
</div>
<div id="1-introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#1-introduction" class="anchor" aria-hidden="true"></a>1. Introduction</h2>
<blockquote>
<p>The JHU-MNI-ss atlas, which is often called “Eve Atlas”, is based on a single-subject data as described in Oishi et al, 2009. There are co-registered T1 (MPRAGE), T2, and DTI images as well as white matter parcellation map (WMPM). Once the image of interest is normalized to this atlas coordinate, the WMPM (which also includes gray matter structures) can be superimposed for anatomical definition (e.g. which structure is affected by a lesion or where exactly is the fMRI activation site) or automated segmentation.</p>
</blockquote>
<p>The <code>EveTemplate</code> package contains the anatomical T1 and T1 images, together with or without the skull on, as well as a brain mask. It also contains the three types of White Matter Parcellaton Map (WMPM) with the dictionary of the labels. Finally, we have performed a 3-tissue class segmentaiton with the FSL FAST algorithm and have included the segmentation classes in the package. For the MNI152 template, see the similar package <a href="https://github.com/Jfortin1/MNITemplate" class="external-link">MNITemplate</a>.</p>
<div id="id-section2"></div>
</div>
<div id="2-reading-the-data-into-r" class="section level2">
<h2 class="hasAnchor">
<a href="#2-reading-the-data-into-r" class="anchor" aria-hidden="true"></a>2. Reading the data into R</h2>
<p>We first load the package into R:</p>
<pre class="{r}"><code></code></pre>
<p>Once the package is loaded into R, use the command <code><a href="reference/readEve.html">readEve()</a></code> to import the Eve template T1-w image as a <code>nifti</code> object into R:</p>
<pre class="{r}"><code><a href="https://www.slicer.org/publications/item/view/1883" class="external-link">library(EveTemplate)
eve_t1 &lt;- readEve()</a></code></pre>
<p>One can use the function <code>orthographic</code> from the <code>oro.nifti</code> package to visualize the template:</p>
<pre class="{r}"><code>orthographic(eve_t1)</code></pre>
<p align="center">
<img src="https://github.com/Jfortin1/EveTemplate/blob/master/inst/figures/eve_t1.png" width="600"></p>
<p>For the T2 image, T1 Brain only and Brain mask respectively, use the following:</p>
<pre class="{r}"><code>eve_t2 &lt;- readEve("T2")
eve_t1_brain &lt;- readEve("Brain")
eve_brain_mask &lt;- readEve("Brain_Mask")</code></pre>
<p>To obtain the T2 image with the brain only, one can use the convolution of the T1 and brain mask as follows:</p>
<pre class="{r}"><code>eve_t2_brain &lt;- eve_t2*eve_brain_mask</code></pre>
<p>In many preprocessing pipelines, the path of the template file in the system must be specified. For this, use the following:</p>
<pre class="{r}"><code>eve_path &lt;- getEvePath()</code></pre>
<p>and similarly for the other images:</p>
<pre class="{r}"><code>eve_t2_path &lt;- getEvePath("T2")
eve_t1_brain_path &lt;- getEvePath("Brain")
eve_brain_mask_path &lt;- getEvePath("Brain_Mask")</code></pre>
<div id="id-section3"></div>
</div>
<div id="3-segmentation" class="section level2">
<h2 class="hasAnchor">
<a href="#3-segmentation" class="anchor" aria-hidden="true"></a>3. Segmentation</h2>
<p>We performed a 3-tissue class segmentation of the T1w Eve template using the FSL FAST segmentation algorithm via the <code>fslr</code> package. The script that was used to perform the segmentation can be found <a href="https://github.com/Jfortin1/EveTemplate/blob/master/inst/segmentation.R" class="external-link">here</a>. The segmentation labels are 0 for Background (outside of the brain), 1 for cerebrospinal fluid (CSF), 2 for grey matter (GM) and 3 for white matter (WM). Let’s read the segmentation classes into R:</p>
<pre class="{r}"><code>seg &lt;- readEveSeg()
orthographic(seg)</code></pre>
<p align="center">
<img src="https://github.com/Jfortin1/EveTemplate/blob/master/inst/figures/eve_seg.png" width="600"></p>
<p>If one wishes to create a WM mask, could do the following:</p>
<pre class="{r}"><code>wm_mask &lt;- seg
wm_mask[wm_mask!=3] &lt;- 0</code></pre>
<p>and similarly for the other tissues.</p>
<div id="id-section4"></div>
</div>
<div id="4-white-matter-parcellation-map-wmpm" class="section level2">
<h2 class="hasAnchor">
<a href="#4-white-matter-parcellation-map-wmpm" class="anchor" aria-hidden="true"></a>4. White Matter Parcellation Map (WMPM)</h2>
<p>The Eve template comes with an atlas of the different anatomical structures of the brain (not only the White Matter structures, despite the name <em>White Matter Parcellation Map</em>). There are 3 different types of WMPM available.</p>
<p>For instance, to obtain the WMPM type I, the following command should be used:</p>
<pre class="{r}"><code>map &lt;- readEveMap(type="I")</code></pre>
<p>The label dictionary can be loaded as a data frame into R using</p>
<pre class="{r}"><code>labels &lt;- getEveMapLabels(type="I")</code></pre>
<div id="curation-of-the-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#curation-of-the-labels" class="anchor" aria-hidden="true"></a>Curation of the labels</h3>
<p>The script <a href="https://github.com/Jfortin1/EveTemplate/blob/master/inst/createLabels.R" class="external-link">createLabels.R</a> was used to clean the labels of the Eve atlas anatomical structures; there were some inconsistencies in the labels. The command <code><a href="reference/getEveMapLabels.html">getEveMapLabels()</a></code> automatically loads the curated labels.</p>
<div id="id-section5"></div>
</div>
</div>
<div id="5-summary-of-the-files-and-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#5-summary-of-the-files-and-functions" class="anchor" aria-hidden="true"></a>5. Summary of the files and functions</h2>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>File</th>
<th>Description</th>
<th>Reader</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>JHU_MNI_SS_TI.nii.gz</td>
<td>T1-w Eve Template</td>
<td><code>readEve("T1")</code></td>
</tr>
<tr class="even">
<td>JHU_MNI_SS_T2.nii.gz</td>
<td>T2-w Eve Template</td>
<td><code>readEve("T2")</code></td>
</tr>
<tr class="odd">
<td>JHU_MNI_SS_Brain.nii.gz</td>
<td>T1-w Eve Template, skull stripped</td>
<td><code>readEve("Brain")</code></td>
</tr>
<tr class="even">
<td>JHU_MNI_SS_Brain_Mask.nii.gz</td>
<td>T1-w Eve Template, brain mask</td>
<td><code>readEve("Brain_Mask")</code></td>
</tr>
<tr class="odd">
<td><strong>Tissue Segmentation:</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>JHU_MNI_SS_Brain_FAST_seg.nii.gz</td>
<td>FSL FAST tissue classes (1=CSF, 2=GM, 3=WM)</td>
<td><code><a href="reference/readEveSeg.html">readEveSeg()</a></code></td>
</tr>
<tr class="odd">
<td><strong>White Matter Parcellation Map:</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>JHU_MNI_SS_WMPM_Type-I.nii.gz</td>
<td>White Matter Parcellation Map (Type I)</td>
<td><code>readEveMap("I")</code></td>
</tr>
<tr class="odd">
<td>JHU_MNI_SS_WMPM_Type-II.nii.gz</td>
<td>White Matter Parcellation Map (Type II)</td>
<td><code>readEveMap("II")</code></td>
</tr>
<tr class="even">
<td>JHU_MNI_SS_WMPM_Type-III.nii.gz</td>
<td>White Matter Parcellation Map (Type III)</td>
<td><code>readEveMap("III")</code></td>
</tr>
<tr class="odd">
<td>eve_map_labels.rda</td>
<td>White Matter Parcellation Map labels (I)</td>
<td><code>getEveMapLabels("I")</code></td>
</tr>
<tr class="even">
<td>eve_map_labels.rda</td>
<td>White Matter Parcellation Map labels (II)</td>
<td><code>getEveMapLabels("II")</code></td>
</tr>
<tr class="odd">
<td>eve_map_labels.rda</td>
<td>White Matter Parcellation Map labels (III)</td>
<td><code>getEveMapLabels("III")</code></td>
</tr>
</tbody>
</table>
<div id="id-section6"></div>
</div>
<div id="6-miscellaneous" class="section level2">
<h2 class="hasAnchor">
<a href="#6-miscellaneous" class="anchor" aria-hidden="true"></a>6. Miscellaneous</h2>
<p>The GitHub repository <a href="https://github.com/muschellij2/Eve_Atlas" class="external-link">https://github.com/muschellij2/Eve_Atlas</a> from John Muschelli includes a useful discussion on how the Eve template compares to the MNI152 template and to the Rorden T1 image. The dimensions of the 3 templates do not agree, and different solutions are proposed to match the voxel locations, either by dropping slides, interpolating or performing a non-linear transformation. The files for the transformed templates are included in the repository.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Jfortin1/EveTemplate/">https://​github.com/​Jfortin1/​EveTemplate/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Jfortin1/EveTemplate/issues">https://​github.com/​Jfortin1/​EveTemplate/​issues</a>
</li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing EveTemplate</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jean-Philippe Fortin <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Jean-Philippe Fortin.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
